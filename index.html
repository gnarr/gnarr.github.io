<!DOCTYPE html>
<html>

<head>
  <!-- HTML Codes by Quackit.com -->
  <title>Gnarr dot GitHub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="keywords" content="FACEIT Demo Downloader" />
  <meta name="description"
    content="FACEIT Demo Downloader is a free program that will will search for, download and extract your demos from FACEIT." />
  <link rel="stylesheet" type="text/css" href="/main.css">
</head>

<body>
  <h1>Gnarr dot GitHub</h1>
  <p>
    <a href="/clock">Fullscreen Clock</a>
  </p>
  <button id="darkmode" class="cont-inv" tabindex="2">Dark mode</button>
  <script type="text/javascript">
    (() => {
      "use strict";

      // ——————————————————————————————————————————————
      // Configuration & state
      // ——————————————————————————————————————————————

      // Decide which event to listen for (touch or click)
      const toggleEventName = ("ontouchstart" in window) ? "touchend" : "click";

      // ——————————————————————————————————————————————
      // Button labels and CSS class names
      // ——————————————————————————————————————————————

      const contrastToggleLabels = {
        off: "◑",
        on: "◑"
      };
      const darkModeToggleLabels = {
        off: "☼",
        on: "☾"
      };

      const CONTRAST_CLASS_NAME = "contrast-mode";
      const DARKMODE_CLASS_NAME = "dark-mode";

      // ——————————————————————————————————————————————
      // Utility: create a toggle button that adds/removes a class
      // ——————————————————————————————————————————————
      /**
       * @param {string}      buttonId    — ID for the new <button>
       * @param {{off:string, on:string}} labels      — text for off/on states
       * @param {string}      className   — CSS class to toggle on <html>
       */
      function createToggleButton(buttonId, labels, className) {
        const htmlRoot = document.documentElement;

        // Build the button
        const button = document.createElement("button");
        button.id = buttonId;
        button.classList.add("toggle-control");
        button.textContent = labels.off;
        button.tabIndex = 0;

        // Track toggle state
        let isOn = false;
        button.addEventListener(toggleEventName, () => {
          isOn = !isOn;
          button.textContent = isOn ? labels.on : labels.off;
          htmlRoot.classList[isOn ? "add" : "remove"](className);
        });

        document.body.appendChild(button);
      }

      // ——————————————————————————————————————————————
      // Initialization
      // ——————————————————————————————————————————————
      createToggleButton(
        "contrastToggleButton",
        contrastToggleLabels,
        CONTRAST_CLASS_NAME
      );

      createToggleButton(
        "darkmode",
        darkModeToggleLabels,
        DARKMODE_CLASS_NAME
      );

      startHueRotation();
    })();
  </script>
</body>

</html>